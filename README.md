
<!-- README.md is generated from README.Rmd. Please edit that file -->

# comexbr

<!-- badges: start -->

[![Lifecycle:
experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![Travis build
status](https://travis-ci.org/tomasbarcellos/comexbr.svg?branch=master)](https://travis-ci.org/tomasbarcellos/comexbr)
<!-- badges: end -->

O objetivo de comexbr é permitir baixar e ler os dados do comércio
exterior brasileiro divulgados pelo governo federal.

## Installation

Por enquanto esse pacote só pode ser instalado via github com o código
abaixo:

``` r
remotes::install_github("tomasbarcellos/comexbr")
```

## Examplo

O código abaixo demonstra algunas casos de uso do pacote. O primeiro que
se pode fazer é o download dos dados:

``` r
library(comexbr)
baixar_importacao(2020, "import_2020.csv")
baixar_exportacao(2020, "export_2020.csv")
```

Essa função retorna `TRUE` para requisições que obtiveram sucesso, e
`FALSE` para o caso contrário.

E também sua leitura:

``` r
imp2020 <- ler_comex("import_2020.csv")
dplyr::glimpse(imp2020)
#> Observations: 535,969
#> Variables: 8
#> $ co_ano     <dbl> 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020,…
#> $ co_mes     <chr> "04", "01", "05", "06", "07", "06", "01", "03", "02",…
#> $ sh4        <chr> "0402", "7320", "0901", "0403", "4016", "2005", "4009…
#> $ co_pais    <chr> "580", "345", "365", "476", "337", "127", "845", "783…
#> $ sg_uf_mun  <chr> "RS", "SP", "MG", "RJ", "RS", "GO", "RS", "CE", "PR",…
#> $ co_mun     <dbl> 4315602, 3420509, 3170701, 3302403, 4318705, 5313806,…
#> $ kg_liquido <dbl> 452, 0, 421875, 60, 22, 1368, 35, 20, 285, 4, 93, 152…
#> $ vl_fob     <dbl> 399, 15, 975844, 35, 1055, 1984, 904, 62, 5219, 15, 1…

exp2020 <- ler_comex("export_2020.csv")
dplyr::glimpse(exp2020)
#> Observations: 535,969
#> Variables: 8
#> $ co_ano     <dbl> 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020,…
#> $ co_mes     <chr> "04", "01", "05", "06", "07", "06", "01", "03", "02",…
#> $ sh4        <chr> "0402", "7320", "0901", "0403", "4016", "2005", "4009…
#> $ co_pais    <chr> "580", "345", "365", "476", "337", "127", "845", "783…
#> $ sg_uf_mun  <chr> "RS", "SP", "MG", "RJ", "RS", "GO", "RS", "CE", "PR",…
#> $ co_mun     <dbl> 4315602, 3420509, 3170701, 3302403, 4318705, 5313806,…
#> $ kg_liquido <dbl> 452, 0, 421875, 60, 22, 1368, 35, 20, 285, 4, 93, 152…
#> $ vl_fob     <dbl> 399, 15, 975844, 35, 1055, 1984, 904, 62, 5219, 15, 1…
```

Além disso, o pacote contém os dicionários das variáveis utilizadas.

``` r
dplyr::glimpse(comexbr::paises)
#> Observations: 281
#> Variables: 6
#> $ co_pais       <chr> "000", "013", "015", "017", "020", "023", "025", "…
#> $ co_pais_ison3 <chr> "898", "004", "248", "008", "724", "276", "278", "…
#> $ co_pais_isoa3 <chr> "ZZZ", "AFG", "ALA", "ALB", "ESP", "DEU", "DEU", "…
#> $ no_pais       <chr> "N\xe3o Definido", "Afeganist\xe3o", "Aland, Ilhas…
#> $ no_pais_ing   <chr> "Not defined", "Afghanistan", "Aland Islands", "Al…
#> $ no_pais_esp   <chr> "No definido", "Afganistan", "Alans, Islas", "Alba…
dplyr::glimpse(comexbr::blocos)
#> Observations: 323
#> Variables: 5
#> $ co_pais      <chr> "788", "525", "229", "281", "438", "458", "127", "2…
#> $ co_bloco     <dbl> 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51, 51,…
#> $ no_bloco     <chr> "\xc1frica", "\xc1frica", "\xc1frica", "\xc1frica",…
#> $ no_bloco_ing <chr> "Africa (minus MIDDLE EAST)", "Africa (minus MIDDLE…
#> $ no_bloco_esp <chr> "\xc1frica (menos ORIENTE MEDIO)", "\xc1frica (meno…
dplyr::glimpse(comexbr::ncm)
#> Observations: 13,111
#> Variables: 14
#> $ co_ncm         <chr> "38085910", "38085921", "38085922", "38085923", "…
#> $ co_unid        <dbl> 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 1…
#> $ co_sh6         <chr> "380859", "380859", "380859", "380859", "380859",…
#> $ co_ppe         <dbl> 3293, 3293, 3293, 3293, 3293, 3990, 3990, 3990, 3…
#> $ co_ppi         <dbl> 3293, 3293, 3293, 3293, 3293, 3639, 3639, 3639, 3…
#> $ co_fat_agreg   <chr> "03", "03", "03", "03", "03", "03", "03", "03", "…
#> $ co_cuci_item   <chr> "5919", "5919", "5919", "5919", "5919", "59899", …
#> $ co_cgce_n3     <dbl> 322, 240, 240, 322, 240, 240, 240, 240, 240, 240,…
#> $ co_siit        <dbl> 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2…
#> $ co_isic_classe <chr> "2021", "2021", "2021", "2021", "2021", "2029", "…
#> $ co_exp_subset  <chr> "1499", "1499", "1499", "1499", "1499", "1499", "…
#> $ no_ncm_por     <chr> "Outras mercadorias mencionadas na Nota de subpos…
#> $ no_ncm_esp     <chr> "Otros productos mencionados en  la nota de subpa…
#> $ no_ncm_ing     <chr> "Other commodities mentioned in Note of subheadin…
dplyr::glimpse(comexbr::sh)
#> Observations: 6,308
#> Variables: 16
#> $ co_sh6        <chr> "010110", "010111", "010119", "010120", "010121", …
#> $ no_sh6_por    <chr> "Animais vivos das esp\xe9cies cavalar, asinina e …
#> $ no_sh6_esp    <chr> "Caballos y asnos, reproductores de raza pura", "C…
#> $ no_sh6_ing    <chr> "Pure-bred breeding horses and asses", "Pure-bred …
#> $ co_sh4        <chr> "0101", "0101", "0101", "0101", "0101", "0101", "0…
#> $ no_sh4_por    <chr> "Cavalos, asininos e muares, vivos", "Cavalos, asi…
#> $ no_sh4_esp    <chr> "Caballos, asnos, mulos y burd\xe9ganos, vivos", "…
#> $ no_sh4_ing    <chr> "Live horses, asses, mules and hinnies", "Live hor…
#> $ co_sh2        <chr> "01", "01", "01", "01", "01", "01", "01", "01", "0…
#> $ no_sh2_por    <chr> "Animais vivos", "Animais vivos", "Animais vivos",…
#> $ no_sh2_esp    <chr> "Animales vivos", "Animales vivos", "Animales vivo…
#> $ no_sh2_ing    <chr> "Live animals", "Live animals", "Live animals", "L…
#> $ co_ncm_secrom <chr> "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", …
#> $ no_sec_por    <chr> "Animais vivos e produtos do reino animal", "Anima…
#> $ no_sec_esp    <chr> "Animales vivos y productos del reino animal", "An…
#> $ no_sec_ing    <chr> "Lives animals; Animal products", "Lives animals; …
```
